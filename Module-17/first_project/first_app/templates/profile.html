{% extends "base.html" %}
{%load crispy_forms_tags%}

{% block content %}
<h1>Welcome to Profile</h1>
<h1>Hello {{user}}</h1>
{% if messages %}
    {% for m in messages %}

    <p class="bg-success text-white p-3" {% if m.tags %} class="{{m.tags}}" {%endif%}>{{m}}</p>

    {% endfor %}

    {% endif %}
    <br>
<a class="btn btn-info" href="{% url 'passchange' %}">Change Your Password</a>
<a class="btn btn-warning" href="{% url 'passchange2' %}">Change Your Password with out old pass</a>

    <form method='post' style="width:50%; margin:auto;" novalidate>
        {% csrf_token %}
        {% if form.non_field_errors %}
        {%for fe in form.non_field_errors %}
        <p class="bg-danger text-white">{{fe}}</p>
        {% endfor %}
        {% endif %}
        {% for fm in form %}
            {{ fm.label_tag }} <br>
            {{ fm }} <br>
            {{ fm.errors.as_text }} <br>
        {% endfor %}
        
        <br>
        <button class="btn btn-primary" type="submit">Change Data</button>
    </form>
{% endblock %}